<!DOCTYPE html>
<html lang="bg">
<!-- Previous head section remains the same -->
<head>
    <title>–°–∏—Å—Ç–µ–º–∞ –∑–∞ –û–±—Ä–∞—Ç–Ω–∞ –í—Ä—ä–∑–∫–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <link rel="manifest" href="manifest.json" />
    <style>
        .emoji-btn {
            font-size: 128px !important;
            height: 200px !important;
            width: 200px !important;
            transition: transform 0.2s;
        }
        .emoji-btn:hover {
            transform: scale(1.1);
        }
        .thank-you-message {
            font-size: 2.5em;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        .feedback-icon {
            font-size: 4em;
            margin: 20px;
        }
        .emoji-label {
            font-size: 24px !important;
            margin-top: 20px !important;
            display: block;
        }
        .feedback-cell {
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <div id="app">
        <v-app>
            <v-main>
                <!-- Previous user interface container remains the same -->
                <v-container v-if="!isAdmin">
                    <v-row justify="center" align="center" class="mt-10" v-if="!showThankYou">
                        <v-col cols="12" class="text-center">
                            <h1 class="mb-6">–ö–∞–∫ –æ—Ü–µ–Ω—è–≤–∞—Ç–µ –≤–∞—à–µ—Ç–æ –ø—Ä–µ–∂–∏–≤—è–≤–∞–Ω–µ?</h1>
                        </v-col>
                        <v-col cols="4" class="text-center">
                            <v-btn class="emoji-btn" text @click="submitFeedback('happy')">
                                üòä
                            </v-btn>
                            <span class="emoji-label">–î–æ–±—Ä–æ</span>
                        </v-col>
                        <v-col cols="4" class="text-center">
                            <v-btn class="emoji-btn" text @click="submitFeedback('neutral')">
                                üòê
                            </v-btn>
                            <span class="emoji-label">–ù–µ—É—Ç—Ä–∞–ª–Ω–æ</span>
                        </v-col>
                        <v-col cols="4" class="text-center">
                            <v-btn class="emoji-btn" text @click="submitFeedback('unhappy')">
                                üòû
                            </v-btn>
                            <span class="emoji-label">–õ–æ—à–æ</span>
                        </v-col>
                    </v-row>

                    <v-row justify="center" v-if="showThankYou">
                        <v-col cols="12" class="text-center">
                            <v-card elevation="2" class="pa-6">
                                <div class="feedback-icon">{{ lastFeedbackIcon }}</div>
                                <div class="thank-you-message" :class="thankYouColor">
                                    {{ thankYouMessage }}
                                </div>
                                <v-card-text class="text-h6 mt-4">
                                    {{ thankYouSubMessage }}
                                </v-card-text>
                            </v-card>
                        </v-col>
                    </v-row>

                    <v-row class="mt-10" v-if="!showThankYou">
                        <v-col cols="12" class="text-center">
                            <v-btn @click="showLoginDialog = true" text color="grey">
                                –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–µ–Ω –î–æ—Å—Ç—ä–ø
                            </v-btn>
                        </v-col>
                    </v-row>

                    <!-- Login Dialog -->
                    <v-dialog v-model="showLoginDialog" max-width="400">
                        <v-card>
                            <v-card-title>
                                –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—è –ø–∞–Ω–µ–ª
                            </v-card-title>
                            <v-card-text>
                                <v-text-field
                                    v-model="password"
                                    :error-messages="loginError"
                                    label="–ü–∞—Ä–æ–ª–∞"
                                    type="password"
                                    @keyup.enter="login"
                                ></v-text-field>
                            </v-card-text>
                            <v-card-actions>
                                <v-spacer></v-spacer>
                                <v-btn color="grey" text @click="showLoginDialog = false">
                                    –û—Ç–∫–∞–∑
                                </v-btn>
                                <v-btn color="primary" @click="login">
                                    –í—Ö–æ–¥
                                </v-btn>
                            </v-card-actions>
                        </v-card>
                    </v-dialog>
                </v-container>

                <!-- Updated Admin Interface -->
                <v-container v-else>
                    <v-row>
                        <v-col cols="12">
                            <h1>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–µ–Ω –ü–∞–Ω–µ–ª</h1>
                            <v-btn @click="logout" class="mb-4">
                                –ò–∑—Ö–æ–¥
                            </v-btn>
                            <v-data-table
                                :headers="headers"
                                :items="feedbackData"
                                :search="search"
                                :sort-by="['timestamp']"
                                :sort-desc="[true]"
                                class="elevation-1"
                            >
                                <template v-slot:top>
                                    <v-text-field
                                        v-model="search"
                                        label="–¢—ä—Ä—Å–µ–Ω–µ"
                                        class="mx-4"
                                    ></v-text-field>
                                </template>
                                <template v-slot:item.feedback="{ item }">
                                    <div class="feedback-cell">
                                        <span style="font-size: 24px;">
                                            <span v-if="item.feedback === 'happy'">üòä</span>
                                            <span v-if="item.feedback === 'neutral'">üòê</span>
                                            <span v-if="item.feedback === 'unhappy'">üòû</span>
                                        </span>
                                        <span>
                                            <span v-if="item.feedback === 'happy'">–î–æ–±—Ä–æ</span>
                                            <span v-if="item.feedback === 'neutral'">–ù–µ—É—Ç—Ä–∞–ª–Ω–æ</span>
                                            <span v-if="item.feedback === 'unhappy'">–õ–æ—à–æ</span>
                                        </span>
                                    </div>
                                </template>
                                <template v-slot:item.actions="{ item }">
                                    <v-btn 
                                        color="error" 
                                        text 
                                        small
                                        @click="deleteItem(item)"
                                    >
                                        <v-icon>mdi-delete</v-icon>
                                    </v-btn>
                                </template>
                            </v-data-table>
                        </v-col>
                    </v-row>
                </v-container>
            </v-main>
        </v-app>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <script>
        new Vue({
            el: '#app',
            vuetify: new Vuetify(),
            data: {
                showThankYou: false,
                isAdmin: false,
                search: '',
                lastFeedback: '',
                feedbackData: [],
                showLoginDialog: false,
                password: '',
                loginError: '',
                headers: [
                    { 
                        text: '–í—Ä–µ–º–µ',
                        value: 'timestamp',
                        align: 'start'
                    },
                    {
                        text: '–û—Ü–µ–Ω–∫–∞',
                        value: 'feedback',
                    },
                    { 
                        text: '–î–µ–π—Å—Ç–≤–∏—è',
                        value: 'actions',
                        sortable: false,
                        align: 'end'
                    },
                ]
            },
            computed: {
                lastFeedbackIcon() {
                    switch(this.lastFeedback) {
                        case 'happy': return 'üòä';
                        case 'neutral': return 'üòê';
                        case 'unhappy': return 'üòû';
                        default: return '';
                    }
                },
                thankYouMessage() {
                    switch(this.lastFeedback) {
                        case 'happy': return '–°—Ç—Ä–∞—Ö–æ—Ç–Ω–æ! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∏!';
                        case 'neutral': return '–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –æ–±—Ä–∞—Ç–Ω–∞—Ç–∞ –≤—Ä—ä–∑–∫–∞!';
                        case 'unhappy': return '–°—ä–∂–∞–ª—è–≤–∞–º–µ –∑–∞ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ—Ç–æ –ø—Ä–µ–∂–∏–≤—è–≤–∞–Ω–µ!';
                        default: return '–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∏!';
                    }
                },
                thankYouSubMessage() {
                    switch(this.lastFeedback) {
                        case 'happy': return '–†–∞–¥–≤–∞–º–µ —Å–µ, —á–µ –æ—Å—Ç–∞–Ω–∞—Ö—Ç–µ –¥–æ–≤–æ–ª–Ω–∏!';
                        case 'neutral': return '–¶–µ–Ω–∏–º –≤–∞—à–µ—Ç–æ –∏—Å–∫—Ä–µ–Ω–æ –º–Ω–µ–Ω–∏–µ.';
                        case 'unhappy': return '–©–µ –ø–æ–ª–æ–∂–∏–º —É—Å–∏–ª–∏—è –¥–∞ –ø–æ–¥–æ–±—Ä–∏–º –æ–±—Å–ª—É–∂–≤–∞–Ω–µ—Ç–æ.';
                        default: return '';
                    }
                },
                thankYouColor() {
                    switch(this.lastFeedback) {
                        case 'happy': return 'success--text';
                        case 'neutral': return 'blue--text';
                        case 'unhappy': return 'deep-orange--text';
                        default: return '';
                    }
                }
            },
            mounted() {
                // Load saved feedback data from localStorage
                const savedData = localStorage.getItem('feedbackData');
                if (savedData) {
                    this.feedbackData = JSON.parse(savedData);
                }
            },
            methods: {
                submitFeedback(type) {
                    this.lastFeedback = type;
                    const feedback = {
                        feedback: type,
                        timestamp: new Date().toLocaleString('bg-BG')
                    };
                    
                    this.feedbackData.push(feedback);
                    localStorage.setItem('feedbackData', JSON.stringify(this.feedbackData));
                    
                    this.showThankYou = true;
                    setTimeout(() => {
                        this.showThankYou = false;
                    }, 5000);
                },
                login() {
                    if (this.password === 'adminmilov') {
                        this.isAdmin = true;
                        this.showLoginDialog = false;
                        this.password = '';
                        this.loginError = '';
                    } else {
                        this.loginError = '–ì—Ä–µ—à–Ω–∞ –ø–∞—Ä–æ–ª–∞';
                    }
                },
                logout() {
                    this.isAdmin = false;
                    this.password = '';
                    this.loginError = '';
                },
                deleteItem(item) {
                    const index = this.feedbackData.indexOf(item);
                    if (index > -1) {
                        this.feedbackData.splice(index, 1);
                        localStorage.setItem('feedbackData', JSON.stringify(this.feedbackData));
                    }
                }
            }
        })
    </script>
</body>
</html>
